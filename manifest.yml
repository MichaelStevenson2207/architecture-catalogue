---
defaults: &defaults
  memory: 64M
  instances: 2
  buildpack: php_buildpack
  services:
  - ea-mysql-service
  - ea-es-service
  env:
    APP_DEBUG: ((APP_DEBUG))
    APP_ENV: ((APP_ENV))
    APP_KEY: ((APP_KEY))
    APP_NAME: ((APP_NAME))
    APP_URL: ((APP_URL))
    CACHE_DRIVER: file
    DB_CERT_PATH: /etc/ssl/certs
    DB_CONNECTION: mysql
    LOG_CHANNEL: ((LOG_CHANNEL))
    MAIL_DRIVER: ((MAIL_DRIVER))
    MAIL_ENCRYPTION: tls
    MAIL_HOST: ((MAIL_HOST))
    MAIL_PASSWORD: ((MAIL_PASSWORD))
    MAIL_PORT: ((MAIL_PORT))
    MAIL_USERNAME: ((MAIL_USERNAME))
    QUEUE_CONNECTION: sync
    REDIS_SCHEME: tls
    SESSION_DRIVER: ((SESSION_DRIVER))
    SESSION_DOMAIN: ((SESSION_DOMAIN))
    GITHUB_CLIENT_ID: ((GITHUB_CLIENT_ID))
    GITHUB_CLIENT_SECRET: ((GITHUB_CLIENT_SECRET))
    GITHUB_CALLBACK_URL:  ((GITHUB_CALLBACK_URL))

applications:
- name: ((APP_NAME))
  <<: *defaults
